TODO:
сделать запрет продажи и покупки с отрицательными хелсами - на сервере

a2dev 1.11o3, 15/05/2006, 15:35
srv_mgr
Shop Amount в лог

a2dev 1.11o2, 14/05/2006, 3:12
srv_mgr
monsters_alliance
players_alliance

a2dev 1.11o, 10/05/2006, 19:11
srv_mgr
введен стандартный обработчик исключений - автосохранение и выход
по адресу 0x6081F0
полный инвиз админов с флагом 0x800

patch
исправлен ряд ошибок с демоном
добавлены опции -640 -800 -1024 -1280
лог теперь ведется в кодировке 1251
вроде добавил звук демону. но нужно тестить
исправлены картинки и цвета демонов

hat2 0.28
исправлена очень глупая ошибка с блокировкой работы хета в бесконечном цикле
исправлена ошибка с пакета reject

a2dev 1.11n35, 23/04/2006, 10:22
переведен на VS2005
hat2 0.27:
работает с map_ip для серверов (для работы через NAT)

a2dev 1.11n34, 10/04/2006, 14:55
patch11:
отключен #show map flag

a2dev 1.11n33, 10/04/2006, 13:52
patch11:
исправлен протокол проверки crc - теперь работает

srvmgr:
добавлена возможность блокировать public_chat для сидящих в магазе
блокировка private_group, private

a2dev 1.11n32, 9/04/2006, 21:42
patch11:
добавлена возможность сканирования crc dll, не тестировал

a2dev 1.11n31, 2/04/2006, 18:57
srvmgr:
добавлена функция say_all - сказать всем игрокам красным

a2dev 1.11n30, 31/03/2006, 6:57
patch11:
введена защита от изменения обзора программой артмани
введена возможность отправлять на сервер CRC32 произвольных кусков

a2dev 1.11n29, 23/03/2006, 18:53
srvmgr:
- area_cast недоработан и отключен
+ #kill all -> #killall
patch11:
введены произвольные разрешения: -res:1024x768, старые ключи отключены

a2dev 1.11n28, 13/03/2006, 13:09
srvmgr:
+ ведение лога area_cast:
 area_cast from (%d, %d)[%d] to (%d, %d)[%d], vision=%d.%d\n

a2dev 1.11n27, 27/02/2006, 18:26
srvmgr
+ удален вывод трафика в лог

a2dev 1.11n26, 26/02/2006, 14:49
hat2 v0.26
+ более корректная многопоточная работа

a2dev 1.11n25, 21/02/2006, 21:19
hat2 v0.25
+ учет переподключения с другого адреса
+ корректное время захода

hat
+ закрыт дюп через смену. проверить!

a2dev 1.11n24, 18/02/2006, 20:50
hat2 v0.24
+ защита от дюпа через отказ от захода
+ более интеллектуальное обновление файлов количества игроков

a2dev 1.11n23, 18/02/2006, 19:38
client
+ корректное сохранение скриншота в оконном режиме

a2dev 1.11n22, 18/02/2006, 18:30
srvmgr
+ опции log_dip, log_buildings
hat2 v0.23
полностью работоспособная версия
+ в тестовом режиме введен режим командной игры
+ добавлен вывод в chr_base\logged_in информации о залогиненных

a2dev 1.11n21, 17/02/2006, 23:17
srvmgr
+ защита от кемпа из магазинов и лавок
+ защита от кемпа из таверн и трактиров
+ опция log_camps: информация о кемпинге, выходе из зданий
+ защита от захода в здание мертвым персонажем
+ запись в лог о заходе и выходе в/из здания
+ убрана оскорбительная надпись
+ логи при смене дипломатии

a2dev 1.11n20, 12/02/2006, 18:30
hat2 v0.22
+ схема accept/reject персонажа
srvmgr
+ добавлена защита от воровства в магазине

a2dev 1.11n19, 6/02/2006, 16:53
hat2 v0.21
+ добавлена защита от перезахода с другим режимом игры
+ ускорен повторный заход на арену
+ поддержка файлов .ban
корректная многопоточная работа с никами и серверами
+ интерфейс для работы с хетом
   shutdown
   createaccount
   removeaccount
   changepassword
+ ctl_dir теперь автосоздается
!нужен тест на стабильность

a2dev 1.11n18, 3/02/2006, 12:33
hat2 v0.20
исправлена кривая работа с памятью в двух местах

a2dev 1.11n17, 3/02/2006, 11:47
hat2 v0.19
+ добавлена обработка пакета 03
+ добавлена обработка команды закрытия сервера
исправлена ошибка с залочкой персонажа на арене, таким образом, арена готова
исправлено несколько мелких багов
+ обновление файла players_num
+ обновление файла nplayers
+ обновление файла record
srvmgr
исправлен баг с неверным damage_by

a2dev 1.11n16, 2/02/2006, 23:20
hat2 v0.18
+ отключено сохранение персонажа во всех режимах кроме COOPERATIVE

a2dev 1.11n15, 2/02/2006, 13:13
hat2 v0.17
+ добавлена финальная проверка на корректность ника перед регистрацией
+ защита от ГМ Хака
+ защита от бага пропивы (патч srv_pod более не нужен)
+ защита от неверных картинок (вызывающих слет клиентов)
+ защита от переименования через ArtMoney

a2dev 1.11n14, 1/02/2006, 19:02
hat2 v0.16
+ исправлена ошибка с повторным заходом

a2dev 1.11n13, 1/02/2006, 19:02
hat2 v0.15
+ удаление полученного персонажа, если его нет в логине, либо нет логина

a2dev 1.11n12, 1/02/2006, 14:52
hat2 v0.14
+ разбивка логов теперь меняется опцией #define SPLIT_LOGS

a2dev 1.11n11, 1/02/2006, 13:20
hat2 v0.13
+ добавлена возможность создавать персонажей, пока без всяких проверок

a2dev 1.11n10, 1/02/2006, 10:55
hat2 v0.12
+ добавлена разбивка логов, по одному в сутки, начиная с 5 утра

a2dev 1.11n9, 1/02/2006, 9:24
hat2 v0.11
+ сканирование базы ников в фоновом режиме
+ удаление персонажей с сохранением в папку
доделать
 - обработка серверных reject
 - постоянный пинг клиентов и серверов
 - режимы игры (арена, кооперативный)
 - командная игра
 - создание персонажей

a2dev 1.11n8, 31/01/2006, 20:27
hat2:
полностью переписан код
доделать
 - обработка серверных reject
 - постоянный пинг клиентов и серверов
 - режимы игры (арена, кооперативный)
 - командная игра
 - сканирование базы ников
 
a2dev 1.11n7, 31/01/2006, 20:25
hatmgr:
предел числа игроков = 32
hat2:
минимальная работоспособность, можно зайти на сервер
доделать
 - возврат в игру
 - обработка серверных reject
 - постоянный пинг клиентов и серверов
 - прием персонажей от серверов
 - режимы игры (арена, кооперативный)
 - командная игра
 - сканирование базы ников
 - потенциальная дыра в 0xD8 пакете

a2dev 1.11n6, 26/01/2006, 18:22
srvmgr:
убрано сообщение "игрок решил играть нечестно"
добавлен флаг 8 - проверка внешней утилитой при заходе на карту
#locate, #info - теперь действуют и при вылете
#info пишет о вылете
изменена логика получения урона
 теперь при автогодмоде обнуляется урон от триггеров
#disconnect <ник> - гарантированно выкидывает из магаза ;-)
 для всех, кто имеет #kill
patch11: 
отключен предел числа игроков = 16
hat2:
hat2 - самостоятельное приложение и не нуждается более в hat1

a2dev 1.11n5, 25/01/2006, 19:58
srvmgr:
исправлена система команд
#deny_login, #allow_login -> #set mode [[-/+]=NEWFLAG]
флаги: 1 - запрет захода на карту
       2 - пвм
       4 - режим NO_FLOOD
флаги не действуют на admin (0x3F000000)
привел srvmgr.cpp в нормальный вид
проверил функции на соответствие calling conventions
charedit 2.04a

a2dev 1.11n4, 23/01/2006, 14:59
srvmgr: исправлено два бага в обновленной системе команд
добавлена команда #kickme, доступна всем кому доступен #kick
добавлены #deny_login/#allow_login, права - 0x8000
 используются для блокировки захода на сервер
 админы с флагом enter_to_map заходят независимо от команды
добавлена команда #info, для печати логина данного персонажа
до сих пор, нуждаются в тесте:
 - система команд
 - пвм, автогодмод
 - maxplayers
charedit 2.04:
- добавлен флаг входа на карту, #deny_login/#allow_login, #info

a2dev 1.11n3, 23/01/2006, 1:39
a2mgr: новые видеорежимы (с артефактами):
-320x240
-1280x768
-1280x800
-1280x960
-1280x1024
srvmgr: увеличен предел maxplayers до 0x20 (032)
КАТЕГОРИЧЕСКИ нуждается в тесте
система команд полностью переписана в длл
КАТЕГОРИЧЕСКИ нуждается в тесте
возможно нестабильная версия

a2dev 1.11n2, 22/01/2006, 0:58
Составлены прототипы всех функций
ГМ(с автогодмодом) может бить ГМ(с автогодмодом) на ПВМ
КАТЕГОРИЧЕСКИ нуждается в тесте (корректность ПВМ, автогодмода, разл. комб.)

a2dev 1.11n, 22/01/2006, 0:58
В конфиг srv_mgr добавлена опция log_saves=YES. Включает 
лог сохранений персонажей

a2dev 1.11m, 21/01/2006, 23:26
В конфиг srv_mgr добавлена опция entermode (по просьбе Макса)
